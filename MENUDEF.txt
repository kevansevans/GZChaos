AddOptionMenu "OptionsMenu"
{
	Submenu "GZChaos Options", "GZCMenu"
}

LISTMENU "MainMenu"
{
	IfGame(Doom, Chex)
	{
		StaticPatch 94, 2, "M_DOOM"
		Position 97, 72
		IfOption(ReadThis)
		{
			Position 97, 64
		}
	}

	IfGame(Doom, Strife, Chex)
	{
		PatchItem "M_NGAME", "n", "PlayerclassMenu"
		ifOption(SwapMenu)
		{
			PatchItem "M_LOADG", "l", "LoadGameMenu"
			PatchItem "M_SAVEG", "s", "SaveGameMenu"
			PatchItem "M_OPTION","o", "OptionsMenu"
			TextItem "GZChaos Options","g", "GZCMenu"
		}
		else
		{
			PatchItem "M_OPTION","o", "OptionsMenu"
			TextItem "GZChaos Options","g", "GZCMenu"
			PatchItem "M_LOADG", "l", "LoadGameMenu"
			PatchItem "M_SAVEG", "s", "SaveGameMenu"
		}
		ifOption(ReadThis)
		{
			PatchItem "M_RDTHIS","r", "ReadThisMenu"
		}
		PatchItem "M_QUITG", "q", "QuitMenu"
	}
}

OptionMenu "GZCMenu"
{
	Class "OptionMenuGZChaosMenu"
	
	Title "---GZChaos Options---"
	
	StaticText "Cosmetic options"
	GZCBarTimer "Timer texture", "GZC_TimerBarClassName", ""
	Slider "Timer height", "GZC_TimerBarHeight", 5, 20, 1, 0
	Slider "Effect info scale", "GZC_EffectScaleAmount", 1, 30, 1, 0
	
	StaticText " "
	StaticText "Gameplay settings"
	Slider "Roll effect frequency (Seconds)", "GZC_TimerDuration", 20, 90, 5, 0
	ScaleSlider "Max rolled effects", "GZC_MaxEffects", 0, 15, 1, "Infinite"
	ScaleSlider "Max effect duration (minutes)", "GZC_MaxEffectDuration", 0, 5, 1, "Default"
	Slider "Repeat effect buffer", "GZC_MemoryBuffer", 0, 100, 1, 0
	StaticText "Randomly add or subtract effect duration (Seconds). Adds a smidge of unpredictability."
	Slider "Decrease duration", "GZC_MinTimeFlux", 0, 30, 1, 0
	Slider "Increase duration", "GZC_MaxTimeFlux", 0, 30, 1, 0
	
	StaticText " "
	StaticText "Seed options" 
	StaticText "(requires new game to take effect)"
	Option "Use seed for RNG", "GZC_UseSeed", "YesNo"
	Option "Use Random Seed", "GZC_UseRandomSeed", "NoYes", "GZC_UseSeed"
	TextField "Seed", "GZC_SeedValue", "GZC_UseSeed"
	Option "Show seed on new game", "GZC_ShowSeedAtStart", "YesNo", "GZC_UseSeed"
}